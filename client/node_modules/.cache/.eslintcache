[{"/Users/danielvarjaskeri/Desktop/feladat/src/index.js":"1","/Users/danielvarjaskeri/Desktop/feladat/src/App.js":"2"},{"size":257,"mtime":1681639953315,"results":"3","hashOfConfig":"4"},{"size":1966,"mtime":1681649462795,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","suppressedMessages":"8","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3mcgyf",{"filePath":"9","messages":"10","suppressedMessages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"/Users/danielvarjaskeri/Desktop/feladat/src/index.js",[],[],"/Users/danielvarjaskeri/Desktop/feladat/src/App.js",["13"],[],"import { useEffect , useState} from 'react';\n\nfunction App() {\n  const [amount,setAmount] = useState(0);\n  const [convert,setConvert] = useState(false);\n  const [currencies,setcurrencies] = useState([]);\n  const [to,setTo] = useState(currencies[0]);\n  const[from,setFrom] = useState(currencies[1]);\n  const [query,setQuery] = useState({from:'huf',\n                                     to:'eur',\n                                     amount:0});\n \n  \n  \n  useEffect(\n    ()=>{\n      fetch('/convert?' + new URLSearchParams(Object.entries(query)) )\n      .then(res=>res.json())\n      .then(data=>console.log(data))\n    },[convert]\n  );\n\n  \n\n  useEffect(\n    ()=>{\n      fetch('/symbols')\n      .then(res=>res.json())\n      .then(data=>setcurrencies(data))\n    },[]\n  );\n\n\n  function handleChangeAmount(e){\n    setAmount(e.target.value);\n  }\n  function handleChangeFrom(e){\n    setFrom(e.target.value);\n  }\n  function handleChangeTo(e){\n    setTo(e.target.value);\n  }\n  function handleCurrencyChange(e){\n    e.preventDefault();\n    setQuery( {from:  `${from}`,\n               to:    `${to}`,\n               amount:`${amount}`});\n    setConvert(prev=>!prev);\n    console.log(query);\n  }\n  \n  const currenciesToSelect = currencies.map(item=>{\n    return <option>{item}</option>\n  })\n\n  return (\n    <div>\n      <h1>Online valutaváltó</h1>\n\n      <form onSubmit={handleCurrencyChange}>\n        <label>Amount</label>\n        <input \n          type='number' \n          step='1000'\n          value={amount}\n          onChange={handleChangeAmount}\n        />\n\n        <label>from this currency</label>\n        <select value={from} onChange={handleChangeFrom}>\n          {currenciesToSelect}\n        </select>\n\n        <label>to this currency</label>\n        <select value={to} onChange={handleChangeTo}>\n          {currenciesToSelect}\n        </select>\n        <button>GO</button>\n      </form>\n\n      <p>x money = y another money</p>\n\n    </div>\n  );\n}\n\nexport default App;\n",{"ruleId":"14","severity":1,"message":"15","line":20,"column":7,"nodeType":"16","endLine":20,"endColumn":16,"suggestions":"17"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'query'. Either include it or remove the dependency array.","ArrayExpression",["18"],{"desc":"19","fix":"20"},"Update the dependencies array to be: [convert, query]",{"range":"21","text":"22"},[618,627],"[convert, query]"]