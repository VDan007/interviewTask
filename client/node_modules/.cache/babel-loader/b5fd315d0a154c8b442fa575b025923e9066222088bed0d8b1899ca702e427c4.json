{"ast":null,"code":"import _slicedToArray from\"/Users/danielvarjaskeri/Desktop/feladat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),convert=_useState4[0],setConvert=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),currencies=_useState6[0],setcurrencies=_useState6[1];var _useState7=useState(currencies[0]),_useState8=_slicedToArray(_useState7,2),to=_useState8[0],setTo=_useState8[1];var _useState9=useState(currencies[1]),_useState10=_slicedToArray(_useState9,2),from=_useState10[0],setFrom=_useState10[1];var _useState11=useState({from:'huf',to:'eur',amount:0}),_useState12=_slicedToArray(_useState11,2),query=_useState12[0],setQuery=_useState12[1];//const urlParams = new URLSearchParams(Object.entries(query));\nuseEffect(function(){fetch('/convert?'+new URLSearchParams(Object.entries(query))).then(function(res){return res.json();}).then(function(data){return console.log(data);});},[convert]);useEffect(function(){fetch('/symbols').then(function(res){return res.json();}).then(function(data){return setcurrencies(data);});},[]);function handleChangeAmount(e){setAmount(e.target.value);}function handleChangeFrom(e){setFrom(e.target.value);}function handleChangeTo(e){setTo(e.target.value);}function handleCurrencyChange(e){e.preventDefault();setQuery({from:\"\".concat(from),to:\"\".concat(to),amount:\"\".concat(amount)});setConvert(function(prev){return!prev;});console.log('change requested');}var currenciesToSelect=currencies.map(function(item){return/*#__PURE__*/_jsx(\"option\",{children:item});});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Online valutav\\xE1lt\\xF3\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCurrencyChange,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"1000\",value:amount,onChange:handleChangeAmount}),/*#__PURE__*/_jsx(\"label\",{children:\"from this currency\"}),/*#__PURE__*/_jsx(\"select\",{value:from,onChange:handleChangeFrom,children:currenciesToSelect}),/*#__PURE__*/_jsx(\"label\",{children:\"to this currency\"}),/*#__PURE__*/_jsx(\"select\",{value:to,onChange:handleChangeTo,children:currenciesToSelect}),/*#__PURE__*/_jsx(\"button\",{children:\"GO\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"x money = y another money\"})]});}export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","amount","setAmount","_useState3","_useState4","convert","setConvert","_useState5","_useState6","currencies","setcurrencies","_useState7","_useState8","to","setTo","_useState9","_useState10","from","setFrom","_useState11","_useState12","query","setQuery","fetch","URLSearchParams","Object","entries","then","res","json","data","console","log","handleChangeAmount","e","target","value","handleChangeFrom","handleChangeTo","handleCurrencyChange","preventDefault","concat","prev","currenciesToSelect","map","item","children","onSubmit","type","step","onChange"],"sources":["/Users/danielvarjaskeri/Desktop/feladat/src/App.js"],"sourcesContent":["import { useEffect , useState} from 'react';\n\nfunction App() {\n  const [amount,setAmount] = useState(0);\n  const [convert,setConvert] = useState(false);\n  const [currencies,setcurrencies] = useState([]);\n  const [to,setTo] = useState(currencies[0]);\n  const[from,setFrom] = useState(currencies[1]);\n  const [query,setQuery] = useState({from:'huf',\n                                     to:'eur',\n                                     amount:0});\n  //const urlParams = new URLSearchParams(Object.entries(query));\n  \n  \n  useEffect(\n    ()=>{\n      fetch('/convert?' + new URLSearchParams(Object.entries(query)) )\n      .then(res=>res.json())\n      .then(data=>console.log(data))\n    },[convert]\n  );\n\n  \n\n  useEffect(\n    ()=>{\n      fetch('/symbols')\n      .then(res=>res.json())\n      .then(data=>setcurrencies(data))\n    },[]\n  );\n\n\n  function handleChangeAmount(e){\n    setAmount(e.target.value);\n  }\n  function handleChangeFrom(e){\n    setFrom(e.target.value);\n  }\n  function handleChangeTo(e){\n    setTo(e.target.value);\n  }\n  function handleCurrencyChange(e){\n    e.preventDefault();\n    setQuery( {from:  `${from}`,\n               to:    `${to}`,\n               amount:`${amount}`});\n    setConvert(prev=>!prev);\n    console.log('change requested');\n  }\n  \n  const currenciesToSelect = currencies.map(item=>{\n    return <option>{item}</option>\n  })\n\n  return (\n    <div>\n      <h1>Online valutaváltó</h1>\n\n      <form onSubmit={handleCurrencyChange}>\n        <label>Amount</label>\n        <input \n          type='number' \n          step='1000'\n          value={amount}\n          onChange={handleChangeAmount}\n        />\n\n        <label>from this currency</label>\n        <select value={from} onChange={handleChangeFrom}>\n          {currenciesToSelect}\n        </select>\n\n        <label>to this currency</label>\n        <select value={to} onChange={handleChangeTo}>\n          {currenciesToSelect}\n        </select>\n        <button>GO</button>\n      </form>\n\n      <p>x money = y another money</p>\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}